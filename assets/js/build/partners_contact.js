/*
 * ATTENTION: The "eval" devtool has been used (maybe by default in mode: "development").
 * This devtool is neither made for production nor for readable output files.
 * It uses "eval()" calls to create a separate source file in the browser devtools.
 * If you are trying to read the output file, select a different devtool (https://webpack.js.org/configuration/devtool/)
 * or disable the default devtool with "devtool: false".
 * If you are looking for production-ready output files, see mode: "production" (https://webpack.js.org/configuration/mode/).
 */
/******/ (function() { // webpackBootstrap
/******/ 	var __webpack_modules__ = ({

/***/ "./assets/js/partners/contact.js":
/*!***************************************!*\
  !*** ./assets/js/partners/contact.js ***!
  \***************************************/
/***/ (function() {

eval("const BLOCKED_DOMAINS = ['gmail.com', 'hotmail.com', 'icloud.com', 'live.com', 'me.com', 'outlook.com', 'sbcglobal.net', 'yahoo.com'];\n\nwindow.clearCaptchaError = () => {\n  const error = document.getElementById('captcha-error-message');\n\n  if (error.textContent) {\n    error.textContent = '';\n    error.classList.add('display-none');\n  }\n};\n\nfunction fetchTextInput(id) {\n  return document.querySelector(`#contact-us-form #${id}`).value;\n}\n\nfunction fetchSelectInput(name) {\n  return document.querySelector(`#contact-us-form select[name=\"${name}\"]`).value;\n}\n\nasync function submitPartnerContact(event) {\n  event.preventDefault();\n  const debug = Array.prototype.slice.apply(document.getElementsByName('debug'))[0];\n  const form = document.getElementById('contact-us-form');\n  const formSubmitError = document.getElementById('form-submit-error-message');\n  const formEmailError = document.getElementById('form-email-error-message');\n  const formSuccess = document.getElementById('form-success-message');\n  const captchaError = document.getElementById('captcha-error-message');\n  const captcha = document.getElementById('g-recaptcha-response'); // skip captcha check when debug flag is turned on\n\n  if (!debug || debug && !+debug.value) {\n    // check for captcha response\n    if (!captcha || !captcha.value) {\n      captchaError.textContent = captchaError.dataset.error;\n      captchaError.classList.remove('display-none');\n      return false;\n    }\n  }\n\n  const honeypot = fetchTextInput('information');\n\n  if (honeypot) {\n    return false;\n  }\n\n  const firstName = fetchTextInput('first_name');\n  const lastName = fetchTextInput('last_name');\n  const jobTitle = fetchTextInput('job_title');\n  const email = fetchTextInput('email').toLowerCase();\n  const emailDomain = email.includes('@') && email.split('@').pop();\n  const isBlockedEmail = BLOCKED_DOMAINS.includes(emailDomain);\n\n  if (isBlockedEmail) {\n    formEmailError.classList.remove('display-none');\n    return false;\n  }\n\n  const agency = fetchSelectInput('agency');\n  const program = fetchTextInput('program');\n  const stateLocalAttestation = fetchSelectInput('state_local_attestation');\n  let launchDate = fetchTextInput('launch_date');\n\n  if (launchDate) {\n    launchDate = new Date(launchDate).toISOString().slice(0, 10);\n  }\n\n  const estimatedUsers = fetchTextInput('estimated_users');\n  const estimatedAuths = fetchTextInput('estimated_auths');\n  const proofing = fetchSelectInput('proofing');\n  const estimatedIdvUsers = fetchTextInput('estimated_idv_users');\n  const submittedDescription = fetchTextInput('description');\n  let description;\n\n  if (submittedDescription) {\n    description = submittedDescription;\n  } else {\n    description = 'I would like to learn more about Login.gov.';\n  }\n\n  const requestBody = {\n    request: {\n      requester: {\n        name: `${firstName} ${lastName}`,\n        email\n      },\n      subject: `Login.gov inquiry for ${program}`,\n      comment: {\n        body: description\n      },\n      ticket_form_id: 5599398793108,\n      custom_fields: [{\n        id: 5549275172884,\n        value: firstName\n      }, {\n        id: 5549276309140,\n        value: lastName\n      }, {\n        id: 5549566619668,\n        value: jobTitle\n      }, {\n        id: 4418412738836,\n        value: agency\n      }, {\n        id: 5549623980820,\n        value: program\n      }, {\n        id: 8946560540564,\n        value: stateLocalAttestation\n      }, {\n        id: 4417512374548,\n        value: launchDate\n      }, {\n        id: 4417514509076,\n        value: estimatedUsers\n      }, {\n        id: 4417513940756,\n        value: estimatedAuths\n      }, {\n        id: 5549997170452,\n        value: proofing\n      }, {\n        id: 5550320439188,\n        value: estimatedIdvUsers\n      }]\n    }\n  };\n  const response = await fetch('https://logingov.zendesk.com/api/v2/requests.json', {\n    method: 'POST',\n    body: JSON.stringify(requestBody),\n    headers: {\n      'Content-Type': 'application/json'\n    }\n  });\n\n  if (response.status === 201) {\n    form.classList.add('display-none');\n    form.reset();\n    formSuccess.classList.remove('display-none');\n  } else {\n    formSubmitError.classList.remove('display-none');\n  }\n\n  return false;\n}\n\nconst contactForm = document.getElementById('contact-us-form');\ncontactForm.addEventListener('submit', submitPartnerContact);\n\nfunction changeAgency(_event) {\n  const agencySelect = document.querySelector('#contact-us-form select[name=\"agency\"]');\n  const stateLocalRegex = /(^(state|territory)_of|^other_local_or_tribal_government)/;\n  const attestationGroup = document.getElementById('state_local_attestation-group');\n  const stateLocalAttestation = document.getElementById('state_local_attestation');\n\n  if (agencySelect.value.match(stateLocalRegex)) {\n    attestationGroup.classList.remove('display-none');\n    stateLocalAttestation.required = true;\n  } else {\n    attestationGroup.classList.add('display-none');\n    stateLocalAttestation.required = false;\n  }\n}\n\nconst agencySelect = document.getElementById('agency');\nagencySelect.addEventListener('change', changeAgency);\n\n//# sourceURL=webpack://identity-site/./assets/js/partners/contact.js?");

/***/ })

/******/ 	});
/************************************************************************/
/******/ 	
/******/ 	// startup
/******/ 	// Load entry module and return exports
/******/ 	// This entry module can't be inlined because the eval devtool is used.
/******/ 	var __webpack_exports__ = {};
/******/ 	__webpack_modules__["./assets/js/partners/contact.js"]();
/******/ 	
/******/ })()
;